# –§–∞–∑–∞ 3, –î–µ–Ω—å 13: WebApp –ø–ª–µ–µ—Ä: React/Vue + Telegram WebApp API

## –¶–µ–ª—å (Definition of Done)
- –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤–µ–±-–ø–ª–µ–µ—Ä –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º React –∏–ª–∏ Vue.js
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∞—É–¥–∏–æ —Å —Ç–µ–∫—Å—Ç–æ–º —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω Telegram WebApp API –¥–ª—è –±–µ—Å—à–æ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ Telegram
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

## –°—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- [Telegram WebApp API](https://core.telegram.org/bots/webapps)
- [React Documentation](https://reactjs.org/docs/getting-started.html)
- [Vue.js Documentation](https://vuejs.org/guide/introduction.html)
- [Vite Documentation](https://vitejs.dev/guide/)
- [Web Audio API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API)
- [React Router](https://reactrouter.com/en/main)

---

## 1. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–µ–∫—Ü–∏—è

### –û–ø–∏—Å–∞–Ω–∏–µ
–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –º—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–µ–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤–µ–±-–ø–ª–µ–µ—Ä –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π. –ü–ª–µ–µ—Ä –±—É–¥–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å Telegram WebApp API –¥–ª—è –±–µ—Å—à–æ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤–Ω—É—Ç—Ä–∏ Telegram. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–∫–ª—é—á–∞—é—Ç:

1. **–ê—É–¥–∏–æ–ø–ª–µ–µ—Ä**: –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∞—É–¥–∏–æ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π —à–∫–∞–ª–µ
2. **–¢–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Ç–µ–∫—É—â–µ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞
3. **–ü–æ–∏—Å–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞**: –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∫ –Ω–∞–π–¥–µ–Ω–Ω—ã–º —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞–º
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Telegram WebApp API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–æ—Ç–æ–º
5. **–≠–∫—Å–ø–æ—Ä—Ç**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞, Vite –¥–ª—è —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏ Telegram WebApp API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Telegram.

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
webapp/
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegram.js
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AudioPlayer/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AudioPlayer.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AudioPlayer.css
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TranscriptionEditor/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TranscriptionEditor.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TranscriptionEditor.css
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SearchBar/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SearchBar.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SearchBar.css
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ExportPanel/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ExportPanel.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ExportPanel.css
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.jsx
‚îÇ   ‚îú‚îÄ‚îÄ contexts/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TelegramContext.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TranscriptionContext.jsx
‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAudio.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useTranscription.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useTelegram.js
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ transcription.js
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ formatTime.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ search.js
‚îÇ   ‚îú‚îÄ‚îÄ App.css
‚îÇ   ‚îú‚îÄ‚îÄ index.css
‚îÇ   ‚îî‚îÄ‚îÄ main.jsx
‚îú‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ vite.config.js
‚îî‚îÄ‚îÄ README.md
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å Vite

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å Vite
npm create vite@latest webapp -- --template react

# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd webapp

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
npm install react-router-dom axios @mantine/core @mantine/hooks @emotion/react wavesurfer.js
```

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vite

```javascript
// vite.config.js
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'path';

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
  server: {
    port: 3000,
    proxy: {
      '/api': {
        target: 'http://localhost:8000',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, ''),
      },
    },
  },
  build: {
    outDir: 'dist',
    assetsDir: 'assets',
    sourcemap: true,
  },
});
```

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram WebApp API

```javascript
// src/api/telegram.js
export const initTelegramApp = () => {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç Telegram WebApp –∑–∞–≥—Ä—É–∂–µ–Ω
  if (!window.Telegram || !window.Telegram.WebApp) {
    console.error('Telegram WebApp is not available');
    return null;
  }

  const webApp = window.Telegram.WebApp;
  
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WebApp
  webApp.ready();
  
  // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  webApp.expand();
  
  // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–º—ã
  document.documentElement.className = webApp.colorScheme;
  
  return webApp;
};

export const sendDataToTelegram = (data) => {
  const webApp = window.Telegram.WebApp;
  if (webApp) {
    webApp.sendData(JSON.stringify(data));
    return true;
  }
  return false;
};

export const closeWebApp = () => {
  const webApp = window.Telegram.WebApp;
  if (webApp) {
    webApp.close();
  }
};
```

#### –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è Telegram WebApp

```jsx
// src/contexts/TelegramContext.jsx
import React, { createContext, useEffect, useState } from 'react';
import { initTelegramApp } from '../api/telegram';

export const TelegramContext = createContext(null);

export const TelegramProvider = ({ children }) => {
  const [webApp, setWebApp] = useState(null);
  const [initData, setInitData] = useState(null);
  const [user, setUser] = useState(null);
  const [theme, setTheme] = useState('light');

  useEffect(() => {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
    const app = initTelegramApp();
    if (app) {
      setWebApp(app);
      setInitData(app.initData);
      setUser(app.initDataUnsafe?.user);
      setTheme(app.colorScheme);
      
      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º—ã
      app.onEvent('themeChanged', () => {
        setTheme(app.colorScheme);
        document.documentElement.className = app.colorScheme;
      });
    }
  }, []);

  const sendData = (data) => {
    if (webApp) {
      webApp.sendData(JSON.stringify(data));
      return true;
    }
    return false;
  };

  const close = () => {
    if (webApp) {
      webApp.close();
    }
  };

  const showAlert = (message) => {
    if (webApp) {
      webApp.showAlert(message);
    } else {
      alert(message);
    }
  };

  const showConfirm = (message, callback) => {
    if (webApp) {
      webApp.showConfirm(message, callback);
    } else {
      const result = confirm(message);
      callback(result);
    }
  };

  return (
    <TelegramContext.Provider
      value={{
        webApp,
        initData,
        user,
        theme,
        sendData,
        close,
        showAlert,
        showConfirm,
      }}
    >
      {children}
    </TelegramContext.Provider>
  );
};
```

#### –•—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram WebApp

```javascript
// src/hooks/useTelegram.js
import { useContext } from 'react';
import { TelegramContext } from '../contexts/TelegramContext';

export const useTelegram = () => {
  const context = useContext(TelegramContext);
  
  if (!context) {
    throw new Error('useTelegram must be used within a TelegramProvider');
  }
  
  return context;
};
```

#### API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è–º–∏

```javascript
// src/api/index.js
import axios from 'axios';

const API_URL = import.meta.env.VITE_API_URL || '/api/v1';

const api = axios.create({
  baseURL: API_URL,
  headers: {
    'Content-Type': 'application/json',
  },
});

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –ø–æ ID
export const getTranscription = async (taskId) => {
  try {
    const response = await api.get(`/tasks/${taskId}`);
    return response.data;
  } catch (error) {
    console.error('Error fetching transcription:', error);
    throw error;
  }
};

// –ü–æ–ª—É—á–µ–Ω–∏–µ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞ –ø–æ ID
export const getAudioFile = async (taskId) => {
  try {
    const response = await api.get(`/tasks/${taskId}/audio`, {
      responseType: 'blob',
    });
    return URL.createObjectURL(response.data);
  } catch (error) {
    console.error('Error fetching audio file:', error);
    throw error;
  }
};

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
export const updateTranscription = async (taskId, transcription) => {
  try {
    const response = await api.put(`/tasks/${taskId}/transcription`, transcription);
    return response.data;
  } catch (error) {
    console.error('Error updating transcription:', error);
    throw error;
  }
};

// –≠–∫—Å–ø–æ—Ä—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
export const exportTranscription = async (taskId, format) => {
  try {
    const response = await api.get(`/exports/download`, {
      params: {
        task_id: taskId,
        format: format,
      },
      responseType: 'blob',
    });
    
    // –°–æ–∑–¥–∞–µ–º URL –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
    const url = URL.createObjectURL(response.data);
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–º—è —Ñ–∞–π–ª–∞
    const contentDisposition = response.headers['content-disposition'];
    let filename = `transcription.${format}`;
    
    if (contentDisposition) {
      const filenameMatch = contentDisposition.match(/filename="(.+)"/);
      if (filenameMatch && filenameMatch[1]) {
        filename = filenameMatch[1];
      }
    }
    
    return { url, filename };
  } catch (error) {
    console.error('Error exporting transcription:', error);
    throw error;
  }
};
```

#### –ú–æ–¥–µ–ª—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

```javascript
// src/models/transcription.js
export class Segment {
  constructor(data) {
    this.id = data.id;
    this.start = data.start;
    this.end = data.end;
    this.text = data.text;
    this.speaker = data.speaker;
    this.confidence = data.confidence;
  }
  
  // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ MM:SS
  formatTime(seconds) {
    const minutes = Math.floor(seconds / 60);
    const secs = Math.floor(seconds % 60);
    return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
  }
  
  // –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
  get timeRange() {
    return `${this.formatTime(this.start)} - ${this.formatTime(this.end)}`;
  }
  
  // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–µ–≥–º–µ–Ω—Ç–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
  get duration() {
    return this.end - this.start;
  }
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞, —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ —Å–µ–≥–º–µ–Ω—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è
  containsTime(time) {
    return time >= this.start && time <= this.end;
  }
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞, —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ —Å–µ–≥–º–µ–Ω—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
  containsText(text) {
    return this.text.toLowerCase().includes(text.toLowerCase());
  }
}

export class Transcription {
  constructor(data) {
    this.text = data.text;
    this.segments = data.segments.map(segment => new Segment(segment));
    this.language = data.language;
    this.speakers_count = data.speakers_count;
  }
  
  // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ–≥–º–µ–Ω—Ç–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
  getSegmentAtTime(time) {
    return this.segments.find(segment => segment.containsTime(time));
  }
  
  // –ü–æ–∏—Å–∫ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –ø–æ —Ç–µ–∫—Å—Ç—É
  searchSegments(query) {
    if (!query || query.trim() === '') {
      return [];
    }
    
    return this.segments.filter(segment => segment.containsText(query));
  }
  
  // –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—â–µ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
  get duration() {
    if (this.segments.length === 0) {
      return 0;
    }
    
    return this.segments[this.segments.length - 1].end;
  }
  
  // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–ø–∏–∫–µ—Ä–æ–≤
  get speakers() {
    const speakerSet = new Set();
    
    this.segments.forEach(segment => {
      if (segment.speaker !== null && segment.speaker !== undefined) {
        speakerSet.add(segment.speaker);
      }
    });
    
    return Array.from(speakerSet).sort();
  }
}
```

#### –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

```jsx
// src/contexts/TranscriptionContext.jsx
import React, { createContext, useState, useEffect } from 'react';
import { getTranscription, getAudioFile } from '../api';
import { Transcription } from '../models/transcription';

export const TranscriptionContext = createContext(null);

export const TranscriptionProvider = ({ children, taskId }) => {
  const [transcription, setTranscription] = useState(null);
  const [audioUrl, setAudioUrl] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  const [currentTime, setCurrentTime] = useState(0);
  const [currentSegment, setCurrentSegment] = useState(null);
  const [searchResults, setSearchResults] = useState([]);
  const [searchQuery, setSearchQuery] = useState('');

  // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –∏ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞
  useEffect(() => {
    const fetchData = async () => {
      try {
        setLoading(true);
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
        const transcriptionData = await getTranscription(taskId);
        const transcriptionModel = new Transcription(transcriptionData.result);
        setTranscription(transcriptionModel);
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞
        const audioFileUrl = await getAudioFile(taskId);
        setAudioUrl(audioFileUrl);
        
        setLoading(false);
      } catch (err) {
        setError(err.message || 'Failed to load transcription');
        setLoading(false);
      }
    };
    
    if (taskId) {
      fetchData();
    }
  }, [taskId]);

  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
  useEffect(() => {
    if (transcription && currentTime >= 0) {
      const segment = transcription.getSegmentAtTime(currentTime);
      setCurrentSegment(segment);
    }
  }, [transcription, currentTime]);

  // –ü–æ–∏—Å–∫ –ø–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
  const search = (query) => {
    setSearchQuery(query);
    
    if (!transcription || !query || query.trim() === '') {
      setSearchResults([]);
      return;
    }
    
    const results = transcription.searchSegments(query);
    setSearchResults(results);
    return results;
  };

  // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏
  const seekToTime = (time) => {
    setCurrentTime(time);
  };

  // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É —Å–µ–≥–º–µ–Ω—Ç—É
  const seekToSegment = (segment) => {
    if (segment) {
      setCurrentTime(segment.start);
    }
  };

  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å–µ–≥–º–µ–Ω—Ç–∞
  const updateSegmentText = (segmentId, newText) => {
    if (!transcription) return;
    
    const updatedSegments = transcription.segments.map(segment => {
      if (segment.id === segmentId) {
        return { ...segment, text: newText };
      }
      return segment;
    });
    
    const updatedTranscription = new Transcription({
      ...transcription,
      segments: updatedSegments,
      text: updatedSegments.map(s => s.text).join(' ')
    });
    
    setTranscription(updatedTranscription);
  };

  return (
    <TranscriptionContext.Provider
      value={{
        transcription,
        audioUrl,
        loading,
        error,
        currentTime,
        currentSegment,
        searchResults,
        searchQuery,
        setCurrentTime,
        seekToTime,
        seekToSegment,
        search,
        updateSegmentText,
      }}
    >
      {children}
    </TranscriptionContext.Provider>
  );
};
```

#### –•—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–µ–π

```javascript
// src/hooks/useTranscription.js
import { useContext } from 'react';
import { TranscriptionContext } from '../contexts/TranscriptionContext';

export const useTranscription = () => {
  const context = useContext(TranscriptionContext);
  
  if (!context) {
    throw new Error('useTranscription must be used within a TranscriptionProvider');
  }
  
  return context;
};
```

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä–∞

```jsx
// src/components/AudioPlayer/AudioPlayer.jsx
import React, { useEffect, useRef, useState } from 'react';
import WaveSurfer from 'wavesurfer.js';
import { useTranscription } from '../../hooks/useTranscription';
import './AudioPlayer.css';

const AudioPlayer = () => {
  const { audioUrl, currentTime, setCurrentTime, transcription } = useTranscription();
  const [isPlaying, setIsPlaying] = useState(false);
  const [duration, setDuration] = useState(0);
  const [volume, setVolume] = useState(1);
  const [playbackRate, setPlaybackRate] = useState(1);
  
  const waveformRef = useRef(null);
  const wavesurferRef = useRef(null);
  
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WaveSurfer
  useEffect(() => {
    if (!audioUrl || !waveformRef.current) return;
    
    // –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ WaveSurfer
    const wavesurfer = WaveSurfer.create({
      container: waveformRef.current,
      waveColor: '#4a9eff',
      progressColor: '#1e6abc',
      cursorColor: '#333',
      barWidth: 2,
      barRadius: 3,
      cursorWidth: 1,
      height: 80,
      barGap: 2,
      responsive: true,
    });
    
    // –ó–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞
    wavesurfer.load(audioUrl);
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
    wavesurfer.on('ready', () => {
      wavesurferRef.current = wavesurfer;
      setDuration(wavesurfer.getDuration());
      wavesurfer.setVolume(volume);
      wavesurfer.setPlaybackRate(playbackRate);
    });
    
    wavesurfer.on('play', () => {
      setIsPlaying(true);
    });
    
    wavesurfer.on('pause', () => {
      setIsPlaying(false);
    });
    
    wavesurfer.on('audioprocess', (time) => {
      setCurrentTime(time);
    });
    
    wavesurfer.on('seek', (progress) => {
      const time = progress * wavesurfer.getDuration();
      setCurrentTime(time);
    });
    
    // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
    return () => {
      if (wavesurferRef.current) {
        wavesurferRef.current.destroy();
      }
    };
  }, [audioUrl]);
  
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ currentTime –∏–∑–≤–Ω–µ
  useEffect(() => {
    if (wavesurferRef.current && !isPlaying) {
      const currentProgress = currentTime / duration;
      wavesurferRef.current.seekTo(currentProgress);
    }
  }, [currentTime, isPlaying, duration]);
  
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
  useEffect(() => {
    if (wavesurferRef.current) {
      wavesurferRef.current.setVolume(volume);
    }
  }, [volume]);
  
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
  useEffect(() => {
    if (wavesurferRef.current) {
      wavesurferRef.current.setPlaybackRate(playbackRate);
    }
  }, [playbackRate]);
  
  // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
  const formatTime = (time) => {
    if (!time) return '00:00';
    
    const minutes = Math.floor(time / 60);
    const seconds = Math.floor(time % 60);
    return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
  };
  
  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  const handlePlayPause = () => {
    if (wavesurferRef.current) {
      wavesurferRef.current.playPause();
    }
  };
  
  const handleStop = () => {
    if (wavesurferRef.current) {
      wavesurferRef.current.stop();
      setIsPlaying(false);
    }
  };
  
  const handleVolumeChange = (e) => {
    const newVolume = parseFloat(e.target.value);
    setVolume(newVolume);
  };
  
  const handlePlaybackRateChange = (rate) => {
    setPlaybackRate(rate);
  };
  
  const handleSkipBackward = () => {
    if (wavesurferRef.current) {
      const newTime = Math.max(0, currentTime - 5);
      setCurrentTime(newTime);
      wavesurferRef.current.seekTo(newTime / duration);
    }
  };
  
  const handleSkipForward = () => {
    if (wavesurferRef.current) {
      const newTime = Math.min(duration, currentTime + 5);
      setCurrentTime(newTime);
      wavesurferRef.current.seekTo(newTime / duration);
    }
  };
  
  return (
    <div className="audio-player">
      <div className="waveform-container" ref={waveformRef}></div>
      
      <div className="controls">
        <div className="time-display">
          <span>{formatTime(currentTime)}</span>
          <span> / </span>
          <span>{formatTime(duration)}</span>
        </div>
        
        <div className="playback-controls">
          <button onClick={handleSkipBackward} title="–ù–∞–∑–∞–¥ 5 —Å–µ–∫—É–Ω–¥">
            <i className="fas fa-backward"></i>
          </button>
          
          <button onClick={handlePlayPause} className="play-pause-button">
            {isPlaying ? (
              <i className="fas fa-pause"></i>
            ) : (
              <i className="fas fa-play"></i>
            )}
          </button>
          
          <button onClick={handleStop} title="–°—Ç–æ–ø">
            <i className="fas fa-stop"></i>
          </button>
          
          <button onClick={handleSkipForward} title="–í–ø–µ—Ä–µ–¥ 5 —Å–µ–∫—É–Ω–¥">
            <i className="fas fa-forward"></i>
          </button>
        </div>
        
        <div className="volume-control">
          <i className={`fas ${volume === 0 ? 'fa-volume-mute' : 'fa-volume-up'}`}></i>
          <input
            type="range"
            min="0"
            max="1"
            step="0.01"
            value={volume}
            onChange={handleVolumeChange}
          />
        </div>
        
        <div className="playback-rate">
          <select
            value={playbackRate}
            onChange={(e) => handlePlaybackRateChange(parseFloat(e.target.value))}
          >
            <option value="0.5">0.5x</option>
            <option value="0.75">0.75x</option>
            <option value="1">1x</option>
            <option value="1.25">1.25x</option>
            <option value="1.5">1.5x</option>
            <option value="2">2x</option>
          </select>
        </div>
      </div>
    </div>
  );
};

export default AudioPlayer;
```

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

```jsx
// src/components/TranscriptionEditor/TranscriptionEditor.jsx
import React, { useState, useEffect, useRef } from 'react';
import { useTranscription } from '../../hooks/useTranscription';
import './TranscriptionEditor.css';

const TranscriptionEditor = () => {
  const {
    transcription,
    currentSegment,
    seekToSegment,
    updateSegmentText,
    searchResults,
    searchQuery,
  } = useTranscription();
  
  const [editingSegmentId, setEditingSegmentId] = useState(null);
  const [editText, setEditText] = useState('');
  const editorRef = useRef(null);
  const currentSegmentRef = useRef(null);
  
  // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —Ç–µ–∫—É—â–µ–º—É —Å–µ–≥–º–µ–Ω—Ç—É
  useEffect(() => {
    if (currentSegment && currentSegmentRef.current) {
      currentSegmentRef.current.scrollIntoView({
        behavior: 'smooth',
        block: 'center',
      });
    }
  }, [currentSegment]);
  
  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ —Å–µ–≥–º–µ–Ω—Ç—É
  const handleSegmentClick = (segment) => {
    seekToSegment(segment);
  };
  
  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–≤–æ–π–Ω–æ–≥–æ –∫–ª–∏–∫–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  const handleSegmentDoubleClick = (segment) => {
    setEditingSegmentId(segment.id);
    setEditText(segment.text);
  };
  
  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
  const handleSaveEdit = () => {
    if (editingSegmentId !== null) {
      updateSegmentText(editingSegmentId, editText);
      setEditingSegmentId(null);
      setEditText('');
    }
  };
  
  // –û—Ç–º–µ–Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  const handleCancelEdit = () => {
    setEditingSegmentId(null);
    setEditText('');
  };
  
  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è –∫–ª–∞–≤–∏—à –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
  const handleKeyDown = (e) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      handleSaveEdit();
    } else if (e.key === 'Escape') {
      handleCancelEdit();
    }
  };
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–µ–≥–º–µ–Ω—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –ø–æ–∏—Å–∫–∞
  const isSearchResult = (segment) => {
    if (!searchQuery || searchQuery.trim() === '') {
      return false;
    }
    
    return searchResults.some(result => result.id === segment.id);
  };
  
  // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ –ø–æ–∏—Å–∫–∞ –≤ —Å–µ–≥–º–µ–Ω—Ç–µ
  const highlightSearchText = (text, query) => {
    if (!query || query.trim() === '') {
      return text;
    }
    
    const parts = text.split(new RegExp(`(${query})`, 'gi'));
    
    return (
      <>
        {parts.map((part, i) => 
          part.toLowerCase() === query.toLowerCase() ? (
            <span key={i} className="search-highlight">{part}</span>
          ) : (
            part
          )
        )}
      </>
    );
  };
  
  if (!transcription) {
    return <div className="transcription-editor-loading">Loading transcription...</div>;
  }
  
  return (
    <div className="transcription-editor" ref={editorRef}>
      {transcription.segments.map((segment) => (
        <div
          key={segment.id}
          className={`segment ${currentSegment?.id === segment.id ? 'current' : ''} ${
            isSearchResult(segment) ? 'search-result' : ''
          }`}
          onClick={() => handleSegmentClick(segment)}
          onDoubleClick={() => handleSegmentDoubleClick(segment)}
          ref={currentSegment?.id === segment.id ? currentSegmentRef : null}
        >
          <div className="segment-header">
            <span className="segment-time">{segment.timeRange}</span>
            {segment.speaker !== null && segment.speaker !== undefined && (
              <span className={`segment-speaker speaker-${segment.speaker % 10}`}>
                Speaker {segment.speaker + 1}
              </span>
            )}
          </div>
          
          <div className="segment-content">
            {editingSegmentId === segment.id ? (
              <div className="segment-edit">
                <textarea
                  value={editText}
                  onChange={(e) => setEditText(e.target.value)}
                  onKeyDown={handleKeyDown}
                  autoFocus
                />
                <div className="segment-edit-actions">
                  <button onClick={handleSaveEdit}>Save</button>
                  <button onClick={handleCancelEdit}>Cancel</button>
                </div>
              </div>
            ) : (
              <p className="segment-text">
                {highlightSearchText(segment.text, searchQuery)}
              </p>
            )}
          </div>
        </div>
      ))}
    </div>
  );
};

export default TranscriptionEditor;
```

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–∏—Å–∫–∞

```jsx
// src/components/SearchBar/SearchBar.jsx
import React, { useState, useEffect } from 'react';
import { useTranscription } from '../../hooks/useTranscription';
import './SearchBar.css';

const SearchBar = () => {
  const { search, searchResults, seekToSegment } = useTranscription();
  const [query, setQuery] = useState('');
  const [currentResultIndex, setCurrentResultIndex] = useState(-1);
  
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞
  useEffect(() => {
    const delaySearch = setTimeout(() => {
      search(query);
      setCurrentResultIndex(-1);
    }, 300);
    
    return () => clearTimeout(delaySearch);
  }, [query, search]);
  
  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
  const handleQueryChange = (e) => {
    setQuery(e.target.value);
  };
  
  // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
  const handleNextResult = () => {
    if (searchResults.length === 0) return;
    
    const nextIndex = currentResultIndex >= searchResults.length - 1 ? 0 : currentResultIndex + 1;
    setCurrentResultIndex(nextIndex);
    seekToSegment(searchResults[nextIndex]);
  };
  
  // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
  const handlePrevResult = () => {
    if (searchResults.length === 0) return;
    
    const prevIndex = currentResultIndex <= 0 ? searchResults.length - 1 : currentResultIndex - 1;
    setCurrentResultIndex(prevIndex);
    seekToSegment(searchResults[prevIndex]);
  };
  
  // –û—á–∏—Å—Ç–∫–∞ –ø–æ–∏—Å–∫–∞
  const handleClearSearch = () => {
    setQuery('');
    search('');
    setCurrentResultIndex(-1);
  };
  
  return (
    <div className="search-bar">
      <div className="search-input-container">
        <input
          type="text"
          value={query}
          onChange={handleQueryChange}
          placeholder="Search in transcription..."
          className="search-input"
        />
        
        {query && (
          <button className="clear-search" onClick={handleClearSearch}>
            √ó
          </button>
        )}
      </div>
      
      <div className="search-results-info">
        {searchResults.length > 0 ? (
          <>
            <span>
              {currentResultIndex + 1} of {searchResults.length} results
            </span>
            
            <div className="search-navigation">
              <button onClick={handlePrevResult} disabled={searchResults.length === 0}>
                ‚Üë
              </button>
              <button onClick={handleNextResult} disabled={searchResults.length === 0}>
                ‚Üì
              </button>
            </div>
          </>
        ) : query ? (
          <span>No results found</span>
        ) : null}
      </div>
    </div>
  );
};

export default SearchBar;
```

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞

```jsx
// src/components/ExportPanel/ExportPanel.jsx
import React, { useState } from 'react';
import { exportTranscription } from '../../api';
import { useTelegram } from '../../hooks/useTelegram';
import './ExportPanel.css';

const ExportPanel = ({ taskId }) => {
  const { showAlert } = useTelegram();
  const [exporting, setExporting] = useState(false);
  
  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —ç–∫—Å–ø–æ—Ä—Ç–∞
  const handleExport = async (format) => {
    try {
      setExporting(true);
      
      const { url, filename } = await exportTranscription(taskId, format);
      
      // –°–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
      const link = document.createElement('a');
      link.href = url;
      link.download = filename;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      
      // –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ URL
      setTimeout(() => URL.revokeObjectURL(url), 100);
      
      showAlert(`Exported successfully as ${format.toUpperCase()}`);
    } catch (error) {
      console.error('Export error:', error);
      showAlert(`Export failed: ${error.message}`);
    } finally {
      setExporting(false);
    }
  };
  
  return (
    <div className="export-panel">
      <h3>Export Transcription</h3>
      
      <div className="export-buttons">
        <button
          onClick={() => handleExport('text')}
          disabled={exporting}
          className="export-button text-button"
        >
          <i className="fas fa-file-alt"></i>
          <span>Text</span>
        </button>
        
        <button
          onClick={() => handleExport('docx')}
          disabled={exporting}
          className="export-button docx-button"
        >
          <i className="fas fa-file-word"></i>
          <span>DOCX</span>
        </button>
        
        <button
          onClick={() => handleExport('srt')}
          disabled={exporting}
          className="export-button srt-button"
        >
          <i className="fas fa-closed-captioning"></i>
          <span>SRT</span>
        </button>
        
        <button
          onClick={() => handleExport('json')}
          disabled={exporting}
          className="export-button json-button"
        >
          <i className="fas fa-file-code"></i>
          <span>JSON</span>
        </button>
      </div>
      
      {exporting && <div className="export-loading">Exporting...</div>}
    </div>
  );
};

export default ExportPanel;
```

#### –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```jsx
// src/components/App.jsx
import React, { useEffect } from 'react';
import { useTelegram } from '../hooks/useTelegram';
import { TranscriptionProvider } from '../contexts/TranscriptionContext';
import AudioPlayer from './AudioPlayer';
import TranscriptionEditor from './TranscriptionEditor';
import SearchBar from './SearchBar';
import ExportPanel from './ExportPanel';
import '../App.css';

const App = () => {
  const { webApp, theme, user } = useTelegram();
  const taskId = new URLSearchParams(window.location.search).get('taskId');
  
  // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏ –∫–Ω–æ–ø–æ–∫ –≤ Telegram WebApp
  useEffect(() => {
    if (webApp) {
      // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞
      webApp.setHeaderColor(theme === 'dark' ? '#1f1f1f' : '#ffffff');
      
      // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
      webApp.MainButton.setText('Close Player');
      webApp.MainButton.onClick(() => {
        webApp.close();
      });
      
      // –ü–æ–∫–∞–∑–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
      webApp.MainButton.show();
    }
  }, [webApp, theme]);
  
  // –ï—Å–ª–∏ taskId –Ω–µ —É–∫–∞–∑–∞–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
  if (!taskId) {
    return (
      <div className="app-error">
        <h2>Error</h2>
        <p>No transcription task ID provided.</p>
      </div>
    );
  }
  
  return (
    <TranscriptionProvider taskId={taskId}>
      <div className={`app ${theme}`}>
        <header className="app-header">
          <h1>Transcription Player</h1>
          {user && <div className="user-info">Hello, {user.first_name}</div>}
        </header>
        
        <main className="app-content">
          <div className="player-section">
            <AudioPlayer />
          </div>
          
          <div className="search-section">
            <SearchBar />
          </div>
          
          <div className="transcription-section">
            <TranscriptionEditor />
          </div>
          
          <div className="export-section">
            <ExportPanel taskId={taskId} />
          </div>
        </main>
      </div>
    </TranscriptionProvider>
  );
};

export default App;
```

#### –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```jsx
// src/main.jsx
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './components/App';
import { TelegramProvider } from './contexts/TelegramContext';
import './index.css';

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <TelegramProvider>
      <App />
    </TelegramProvider>
  </React.StrictMode>
);
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å WebApp

```python
# src/bot/handlers/webapp.py
from aiogram import Router, F
from aiogram.types import Message, WebAppInfo
from aiogram.filters import Command
from aiogram.utils.keyboard import InlineKeyboardBuilder

from src.config import settings

router = Router()

@router.message(Command("webapp"))
async def cmd_webapp(message: Message):
    """Handler for /webapp command."""
    builder = InlineKeyboardBuilder()
    builder.button(
        text="Open WebApp Player",
        web_app=WebAppInfo(url=f"{settings.WEBAPP_URL}")
    )
    
    await message.answer(
        "Click the button below to open the WebApp player:",
        reply_markup=builder.as_markup()
    )

@router.message(F.web_app_data)
async def web_app_data(message: Message):
    """Handler for data received from WebApp."""
    # Process data received from WebApp
    data = message.web_app_data.data
    await message.answer(f"Received data from WebApp: {data}")
```

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è WebApp —Å –¥–∏–∞–ª–æ–≥–∞–º–∏ –±–æ—Ç–∞

```python
# src/bot/dialogs/result.py
from aiogram import F
from aiogram.types import CallbackQuery, WebAppInfo
from aiogram_dialog import Dialog, DialogManager, Window
from aiogram_dialog.widgets.kbd import Button, Row, WebApp
from aiogram_dialog.widgets.text import Const, Format

from src.bot.states import ResultState
from src.config import settings

# ... existing code ...

# Add WebApp button to result window
result_window = Window(
    Const("üìù –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏:"),
    Format("{text}"),
    Row(
        Button(
            Const("üì• –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å"),
            id="export_result",
            on_click=on_export_selected,
            when="has_result"
        ),
        WebApp(
            Const("üéß –û—Ç–∫—Ä—ã—Ç—å –ø–ª–µ–µ—Ä"),
            webapp=WebAppInfo(url=f"{settings.WEBAPP_URL}?taskId={{task_id}}"),
            when="has_result"
        ),
    ),
    Row(
        Button(
            Const("üîô –í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"),
            id="back_to_menu",
            on_click=lambda c, b, m: m.start(MainMenuState.main)
        )
    ),
    state=ResultState.view,
    getter=result_getter
)
```

### –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö/API

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ WebApp

```python
# src/api/v1/endpoints/tasks.py
from fastapi import APIRouter, Depends, HTTPException, Query
from fastapi.responses import FileResponse, JSONResponse
import tempfile
import os

from src.domains.transcription.services import TranscriptionService
from src.infrastructure.storage.object_storage import ObjectStorage
from src.api.dependencies import get_object_storage

router = APIRouter()

# ... existing code ...

@router.get("/{task_id}/audio")
async def get_task_audio(
    task_id: str,
    object_storage: ObjectStorage = Depends(get_object_storage)
) -> FileResponse:
    """Get audio file for a task."""
    try:
        # Get task details
        transcription_service = TranscriptionService(object_storage)
        task = await transcription_service.get_task(task_id)
        
        if not task:
            raise HTTPException(status_code=404, detail=f"Task {task_id} not found")
        
        # Get audio file
        file_data = await object_storage.download_file(f"audio/{task_id}/audio.mp3")
        
        # Create temporary file
        with tempfile.NamedTemporaryFile(delete=False, suffix="_audio.mp3") as temp_file:
            temp_path = temp_file.name
            temp_file.write(file_data)
        
        # Return file response
        return FileResponse(
            path=temp_path,
            filename=f"{task.file_name or 'audio'}.mp3",
            media_type="audio/mpeg",
            background=lambda: os.unlink(temp_path)
        )
    except Exception as e:
        raise HTTPException(status_code=500, detail=f"Failed to get audio file: {str(e)}")
```

## 2. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å–µ–∫—Ü–∏—è

### –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ React —Å Vite**
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç React —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Vite
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   - –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Å–±–æ—Ä–∫–∏

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram WebApp API**
   - –î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç Telegram WebApp –≤ HTML-—à–∞–±–ª–æ–Ω
   - –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ —Ö—É–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram WebApp
   - –†–µ–∞–ª–∏–∑—É–π—Ç–µ –±–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Telegram

3. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä–∞**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É WaveSurfer.js
   - –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä–∞ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –≤–æ–ª–Ω—ã
   - –î–æ–±–∞–≤—å—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º

4. **–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏**
   - –†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
   - –î–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
   - –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä–æ–º

5. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ –ø–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏**
   - –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–∏—Å–∫–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏
   - –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–∏—Å–∫–∞ –ø–æ —Ç–µ–∫—Å—Ç—É —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
   - –î–æ–±–∞–≤—å—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –ø–æ–∏—Å–∫–∞

6. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞**
   - –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–∞–Ω–µ–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞
   - –î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —ç–∫—Å–ø–æ—Ä—Ç–∞
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å API –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤

7. **–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞**
   - –†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ —Å—Ç–∏–ª–∏ –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∞–¥–∞–ø—Ç–∏–≤–Ω—É—é –≤–µ—Ä—Å—Ç–∫—É –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
   - –î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–≤–µ—Ç–ª–æ–π –∏ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã

8. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º**
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ API-–∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º
   - –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –∏ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞
   - –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–≥—Ä—É–∑–∫–∏

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ (Common Pitfalls)

1. **–ü—Ä–æ–±–ª–µ–º—ã —Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π Telegram WebApp**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç Telegram WebApp –∑–∞–≥—Ä—É–∂–µ–Ω –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–∞–ª–∏—á–∏–µ –æ–±—ä–µ–∫—Ç–∞ `window.Telegram.WebApp` –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–æ–≤
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `webApp.ready()` –¥–ª—è —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

2. **–£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∞—É–¥–∏–æ**
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ —É–Ω–∏—á—Ç–æ–∂–∞–π—Ç–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã WaveSurfer –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –û—Å–≤–æ–±–æ–∂–¥–∞–π—Ç–µ URL-–æ–±—ä–µ–∫—Ç—ã –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å –ø–æ–º–æ—â—å—é `URL.revokeObjectURL()`
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `useRef` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ –Ω–∞ DOM-—ç–ª–µ–º–µ–Ω—Ç—ã –∏ –æ–±—ä–µ–∫—Ç—ã

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –∞—É–¥–∏–æ –∏ —Ç–µ–∫—Å—Ç–∞**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
   - –ò–∑–±–µ–≥–∞–π—Ç–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –£—á–∏—Ç—ã–≤–∞–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ UI –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏ –∞—É–¥–∏–æ

4. **–û—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–æ–ª—å—à–∏–º–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è–º–∏**
   - –†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é —Å–ø–∏—Å–∫–∞ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ–±–∞—É–Ω—Å–∏–Ω–≥ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —á–∞—Å—Ç—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø—Ä–∏ –ø–æ–∏—Å–∫–µ

5. **–ü—Ä–æ–±–ª–µ–º—ã —Å –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å—Ç–∫–æ–π**
   - –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
   - –£—á–∏—Ç—ã–≤–∞–π—Ç–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –º–æ–±–∏–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∞—É–¥–∏–æ
   - –ê–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–∑–º–µ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ —Å–µ–Ω—Å–æ—Ä–Ω—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö

### –°–æ–≤–µ—Ç—ã –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (Performance Tips)

1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `React.memo` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–µ–Ω—É–∂–Ω—ã—Ö –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤
   - –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ `useCallback` –∏ `useMemo` –¥–ª—è –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
   - –†–∞–∑–¥–µ–ª—è–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —á–∞—Å—Ç–∏ –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

2. **–£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä–∞**
   - –£–º–µ–Ω—å—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫ –≤ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–æ–ª–Ω—ã –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Web Workers –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ–¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ–Ω–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ
   - –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ª–µ–Ω–∏–≤—É—é –∑–∞–≥—Ä—É–∑–∫—É –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞ –ø–æ —á–∞—Å—Ç—è–º –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ –ø–æ —Ç–µ–∫—Å—Ç—É**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –≤ –±–æ–ª—å—à–∏—Ö —Ç–µ–∫—Å—Ç–∞—Ö
   - –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –¥–µ–±–∞—É–Ω—Å–∏–Ω–≥ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –≤–≤–æ–¥–µ
   - –ö–µ—à–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

4. **–£–ª—É—á—à–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö**
   - –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞ –∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   - –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ –º–µ—Ä–µ –∑–∞–≥—Ä—É–∑–∫–∏

5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –±–∞–Ω–¥–ª–∞**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∫–æ–¥–∞
   - –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ tree-shaking
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –¥—Ä—É–≥–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã

## 3. –í–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–µ–∫—Ü–∏—è

### –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏

- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–æ–µ–∫—Ç React —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Vite
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram WebApp API
- [ ] –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –≤–æ–ª–Ω—ã –∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- [ ] –°–æ–∑–¥–∞–Ω —Ä–µ–¥–∞–∫—Ç–æ—Ä —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–≤–µ—Ç–ª–æ–π –∏ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–≥—Ä—É–∑–∫–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

```jsx
// src/components/AudioPlayer/AudioPlayer.test.jsx
import React from 'react';
import { render, screen, fireEvent, waitFor } from '@testing-library/react';
import AudioPlayer from './AudioPlayer';
import { TranscriptionContext } from '../../contexts/TranscriptionContext';

// Mock WaveSurfer
jest.mock('wavesurfer.js', () => {
  return {
    __esModule: true,
    default: {
      create: jest.fn(() => ({
        load: jest.fn(),
        on: jest.fn((event, callback) => {
          if (event === 'ready') {
            callback();
          }
        }),
        play: jest.fn(),
        pause: jest.fn(),
        playPause: jest.fn(),
        stop: jest.fn(),
        getDuration: jest.fn(() => 100),
        setVolume: jest.fn(),
        setPlaybackRate: jest.fn(),
        seekTo: jest.fn(),
        destroy: jest.fn(),
      })),
    },
  };
});

const mockTranscriptionContext = {
  audioUrl: 'http://example.com/audio.mp3',
  currentTime: 0,
  setCurrentTime: jest.fn(),
  transcription: {
    duration: 100,
  },
};

describe('AudioPlayer', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });

  test('renders audio player with controls', () => {
    render(
      <TranscriptionContext.Provider value={mockTranscriptionContext}>
        <AudioPlayer />
      </TranscriptionContext.Provider>
    );

    // Check if play button is rendered
    expect(screen.getByTitle(/play/i)).toBeInTheDocument();
    
    // Check if time display is rendered
    expect(screen.getByText('00:00 / 01:40')).toBeInTheDocument();
    
    // Check if volume control is rendered
    expect(screen.getByRole('slider')).toBeInTheDocument();
  });

  test('handles play/pause button click', async () => {
    render(
      <TranscriptionContext.Provider value={mockTranscriptionContext}>
        <AudioPlayer />
      </TranscriptionContext.Provider>
    );

    // Click play button
    fireEvent.click(screen.getByTitle(/play/i));
    
    // Wait for WaveSurfer to initialize
    await waitFor(() => {
      expect(require('wavesurfer.js').default.create().playPause).toHaveBeenCalled();
    });
  });

  test('handles volume change', async () => {
    render(
      <TranscriptionContext.Provider value={mockTranscriptionContext}>
        <AudioPlayer />
      </TranscriptionContext.Provider>
    );

    // Change volume
    fireEvent.change(screen.getByRole('slider'), { target: { value: 0.5 } });
    
    // Wait for WaveSurfer to initialize
    await waitFor(() => {
      expect(require('wavesurfer.js').default.create().setVolume).toHaveBeenCalledWith(0.5);
    });
  });
});

// src/components/TranscriptionEditor/TranscriptionEditor.test.jsx
import React from 'react';
import { render, screen, fireEvent } from '@testing-library/react';
import TranscriptionEditor from './TranscriptionEditor';
import { TranscriptionContext } from '../../contexts/TranscriptionContext';
import { Transcription, Segment } from '../../models/transcription';

const mockSegments = [
  new Segment({
    id: 1,
    start: 0,
    end: 5,
    text: 'Hello world',
    speaker: 0,
  }),
  new Segment({
    id: 2,
    start: 5,
    end: 10,
    text: 'This is a test',
    speaker: 1,
  }),
];

const mockTranscription = new Transcription({
  text: 'Hello world. This is a test.',
  segments: mockSegments,
  language: 'en',
  speakers_count: 2,
});

const mockTranscriptionContext = {
  transcription: mockTranscription,
  currentSegment: mockSegments[0],
  seekToSegment: jest.fn(),
  updateSegmentText: jest.fn(),
  searchResults: [],
  searchQuery: '',
};

describe('TranscriptionEditor', () => {
  test('renders transcription segments', () => {
    render(
      <TranscriptionContext.Provider value={mockTranscriptionContext}>
        <TranscriptionEditor />
      </TranscriptionContext.Provider>
    );

    // Check if segments are rendered
    expect(screen.getByText('Hello world')).toBeInTheDocument();
    expect(screen.getByText('This is a test')).toBeInTheDocument();
    
    // Check if time ranges are rendered
    expect(screen.getByText('00:00 - 00:05')).toBeInTheDocument();
    expect(screen.getByText('00:05 - 00:10')).toBeInTheDocument();
    
    // Check if speakers are rendered
    expect(screen.getByText('Speaker 1')).toBeInTheDocument();
    expect(screen.getByText('Speaker 2')).toBeInTheDocument();
  });

  test('handles segment click', () => {
    render(
      <TranscriptionContext.Provider value={mockTranscriptionContext}>
        <TranscriptionEditor />
      </TranscriptionContext.Provider>
    );

    // Click on a segment
    fireEvent.click(screen.getByText('This is a test'));
    
    // Check if seekToSegment was called with the correct segment
    expect(mockTranscriptionContext.seekToSegment).toHaveBeenCalledWith(mockSegments[1]);
  });

  test('handles segment edit', () => {
    render(
      <TranscriptionContext.Provider value={mockTranscriptionContext}>
        <TranscriptionEditor />
      </TranscriptionContext.Provider>
    );

    // Double click on a segment to edit
    fireEvent.doubleClick(screen.getByText('Hello world'));
    
    // Check if textarea appears
    const textarea = screen.getByRole('textbox');
    expect(textarea).toBeInTheDocument();
    expect(textarea.value).toBe('Hello world');
    
    // Edit text
    fireEvent.change(textarea, { target: { value: 'Hello edited world' } });
    
    // Save edit
    fireEvent.click(screen.getByText('Save'));
    
    // Check if updateSegmentText was called with the correct parameters
    expect(mockTranscriptionContext.updateSegmentText).toHaveBeenCalledWith(1, 'Hello edited world');
  });
});
```

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Telegram**
   - –û—Ç–∫—Ä–æ–π—Ç–µ WebApp —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–µ–º–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ–º–µ Telegram
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –∫–Ω–æ–ø–æ–∫ Telegram WebApp

2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä–∞**
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∞—É–¥–∏–æ—Ñ–∞–π–ª –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –µ–≥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ, –ø–∞—É–∑–∞, –ø–µ—Ä–µ–º–æ—Ç–∫–∞)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫—É –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤–æ–ª–Ω—ã —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–µ–∫—É—â–∏–π —Å–µ–≥–º–µ–Ω—Ç –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –º–µ–∂–¥—É –∞—É–¥–∏–æ –∏ —Ç–µ–∫—Å—Ç–æ–º

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞**
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–∏—Å–∫ –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º —Ñ—Ä–∞–∑–∞–º
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –ø–æ–∏—Å–∫–∞
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞–π–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–∏—Å–∫ —Å —É—á–µ—Ç–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤

5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∞**
   - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç –±–æ–ª—å—à–∏—Ö —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π

6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ä–∞–∑–º–µ—Ä—É —ç–∫—Ä–∞–Ω–∞
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–µ–Ω—Å–æ—Ä–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –≤ –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–æ–π –∏ –ª–∞–Ω–¥—à–∞—Ñ—Ç–Ω–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏

7. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ –±–æ–ª—å—à—É—é —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é (>30 –º–∏–Ω—É—Ç)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –¥–∞–∂–µ –Ω–∞ –±–æ–ª—å—à–∏—Ö —Ç–µ–∫—Å—Ç–∞—Ö
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏